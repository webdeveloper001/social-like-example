<!-- Navigation Bar -->
<div ui-view="navbar" style="position: fixed; z-index: 1000; width: 100%"></div>

<div class="container" style="padding-left:5px;padding-right:5px; margin-bottom: 20px;">
    
    <div id="veil" ng-show="vm.isLoading"></div>
    <div id="feedLoading" ng-show="vm.isLoading">
        <div style="text-align: center" ng-if="vm.isLoading">
            <div><img src="/assets/images/loading.gif" class="img" style="width:50px;height:50px"/></div>
            <p style="font-size:large">{{vm.veilMsg}}</p>
        </div>
    </div>

    <div ng-hide="vm.isLoading">
                 
        <div class="container" style="margin-top: 60px" ng-show="vm.barIsActive"> <!-- style="padding-left:5px;padding-right:5px;"> -->
            <div class="row" style="padding-bottom:10px">
                
                <div class="hidden-md hidden-lg hidden-xl">
                    <div class="col-xs-12" style="padding-left:0px;padding-right:0px;">
                        <button class="col-xs-3 btn btn-default" ng-attr-style="visibility:{{vm.bi==0?'hidden':'visible'}}" 
                        ng-click="vm.buttonsPrev()"><i class="fa fa-arrow-left" aria-hidden="true"></i></button>
                        <div style="padding-top:7px" class="col-xs-6 text-center">Quick Filters</div>
                        <button class="col-xs-3 btn btn-default" ng-attr-style="visibility:{{vm.bi == vm.buts.length-8?'hidden':'visible'}}" 
                        ng-click="vm.buttonsFwd()"><i class="fa fa-arrow-right" aria-hidden="true"></i></button>
                    </div>
                    <div class="col-xs-12" style="padding-left:0px;padding-right:0px;padding-bottom:7px">
                        <button class="col-xs-3 btn btn-default" 
                            ng-class="{'btn-primary':((x == 'Favorites' && vm.myfavs) || (x == 'Friends' && vm.myffavs)),
                        'btn-success':(x == vm.nh) }" 
                        ng-repeat="x in vm.buts.slice(vm.bi,vm.bi+8)" ng-click="vm.quickFilter(x)"
                            ng-attr-style="font-size:{{x.length > 11 ? 'smaller':''}};height:34px;padding-left:{{x.length > 11 ? '4px':''}};">
                            {{x}}</button>
                    </div>
                </div> 
                <div class="hidden-xs hidden-sm">
                    <div style="padding-top:7px" class="text-center"><strong>Quick Filters</strong></div>
                    <div class="col-xs-4" style="padding-left:0px;padding-right:0px;padding-bottom:7px">
                        <button class="col-xs-4 btn btn-default" ng-click="vm.buttonsPrev()" ng-attr-style="visibility:{{vm.bi==0?'hidden':'visibility'}};height:68px;">
                            <i class="fa fa-arrow-left" aria-hidden="true"></i></button>
                        <button class="col-xs-4 btn btn-default" 
                        ng-class="{'btn-primary':((x == 'Favorites' && vm.myfavs) || (x == 'Friends' && vm.myffavs)),
                        'btn-success':(x == vm.nh) }" ng-repeat="x in vm.buts.slice(vm.bi,vm.bi+2)" 
                        ng-click="vm.quickFilter(x)" ng-attr-style="font-size:{{x.length > 13 ? 'smaller':''}};height:34px;">{{x}}</button>
                        <!--<div class="col-xs-4 text-center"></div>-->
                        <button class="col-xs-4 btn btn-default" ng-class="{'btn-primary':((x == 'Favorites' && vm.myfavs) || (x == 'Friends' && vm.myffavs)),
                        'btn-success':(x == vm.nh) }" ng-repeat="x in vm.buts.slice(vm.bi+2,vm.bi+4)" 
                        ng-click="vm.quickFilter(x)" ng-attr-style="font-size:{{x.length > 13 ? 'smaller':''}};height:34px;">{{x}}</button>
                    </div>
                    <div class="col-xs-4" style="padding-left:0px;padding-right:0px;padding-bottom:7px">
                        <button class="col-xs-4 btn btn-default" ng-class="{'btn-primary':((x == 'Favorites' && vm.myfavs) || (x == 'Friends' && vm.myffavs)),
                        'btn-success':(x == vm.nh) }" ng-repeat="x in vm.buts.slice(vm.bi+4,vm.bi+10)" 
                        ng-click="vm.quickFilter(x)" ng-attr-style="font-size:{{x.length > 13 ? 'smaller':''}};height:34px;">{{x}}</button>
                    </div>
                    <div class="col-xs-4" style="padding-left:0px;padding-right:0px;padding-bottom:7px">
                        <div class="col-xs-8" style="padding-left:0px;padding-right:0px;padding-bottom:7px">
                            <button class="col-xs-6 btn btn-default" ng-class="{'btn-primary':((x == 'Favorites' && vm.myfavs) || (x == 'Friends' && vm.myffavs)),
                            'btn-success':(x == vm.nh) }" ng-repeat="x in vm.buts.slice(vm.bi+10,vm.bi+14)" 
                            ng-click="vm.quickFilter(x)" ng-attr-style="font-size:{{x.length > 13 ? 'smaller':''}};height:34px;">{{x}}</button>
                        </div>
                        <div class="col-xs-4" style="padding-left:0px;padding-right:0px;padding-bottom:7px">
                        <button class="col-xs-12 btn btn-default" ng-click="vm.buttonsFwd()" ng-attr-style="visibility:{{vm.bi == vm.buts.length-14?'hidden':'visible'}};height:68px;">
                            <i class="fa fa-arrow-right" aria-hidden="true"></i></button>
                        <!--<button class="col-xs-4 btn btn-default" ng-class="{'btn-primary':((x == 'Favorites' && vm.myfavs) || (x == 'Friends' && vm.myffavs)),
                        'btn-success':(x == vm.nh) }" ng-repeat="x in vm.buts.slice(vm.bi+12,vm.bi+14)" 
                        ng-click="vm.quickFilter(x)" ng-attr-style="font-size:{{x.length > 13 ? 'smaller':''}};height:34px;">{{x}}</button> -->
                        <!-- <div class="col-xs-4"></div> -->
                        </div>
                    </div>
                </div>
                
                <div class="col-xs-12" style="padding-left:0px;padding-right:0px;padding-bottom:7px;"
                ng-show="vm.nhctrl">
                    <div class="col-xs-3" style="padding-left:0px;padding-right:0px;">
                        <p style="padding-top:5px">Neighborhood</p>
                    </div>
                    <div class="col-xs-5" style="padding-left:0px;padding-right:0px;">
                        <input type="text" class="form-control" placeholder="Enter Neighborhood" ng-model="vm.nhinp" 
                        bs-options="c for c in vm.nhops" bs-typeahead>
                    </div> 
                        <button class="col-xs-2 btn btn-success" type="submit" ng-click="vm.selectNh()"> 
                        Select</button>
                        <button class="col-xs-2 btn btn-default" type="submit" ng-click="vm.clearNh()"> 
                        Clear</button>
                </div>
                <div class="col-xs-12" style="padding-left:0px;padding-right:0px;">
                    <div class="col-xs-7" style="padding-left:0px;padding-right:0px;">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Search San Diego" ng-model="vm.val" ng-change="vm.getResults()" id="SearchInput">
                            <div class="input-group-btn">
                                <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-3" style="padding-left:0px;padding-right:0px">
                        <button class="btn btn-default" style="width:100%" ng-click="vm.goAddRank()">Add Rank&nbsp&nbsp
                            <!-- <i class="glyphicon glyphicon-plus"></i> --></button>
                    </div>
                    <!--<div class="col-xs-2" style="padding-left:0px;padding-right:0px;"> -->
                        <button class="col-xs-2 btn btn-default pull-right" ng-click="vm.showTrends()"><i class="fa fa-rss" aria-hidden="true"></i></button>
                    <!--</div> -->
                </div>
            </div> 
  
        </div> 
        
        <p ng-if="vm.myfavs" style="background:#428bca;color:white">Filter is active for <strong>Favorites</strong></p>
        <p ng-if="vm.myffavs" style="background:#428bca;color:white">Filter is active for <strong>Friends' Favorites</strong></p>
        <p ng-if="vm.nh != ''" style="background:#5cb85c;color:white">Filter is active for neighborhood <strong>{{vm.nh}}</strong></p>
        
        
        <div class="input-group" style="width:100%" ng-if="vm.isAdmin&&!vm.childActive">
            <div class="text-center" ng-attr-style="display:{{vm.isAdmin ? 'inline':'none'}}">
                <div class="btn-group col-sm-6 col-md-6">            
                    <button class="btn btn-primary {{vm.selEditRank}} " ng-click="vm.editRank() ">Edit Mode</button>
                    <button class="btn btn-primary {{vm.selViewRank}} " ng-click="vm.viewRank() ">View Mode</button>
                </div>
            </div>
        </div>
        
        <div ng-show="!vm.childActive">
            <!--	
            <search-block ng-click="vm.hideSearch()" query="{{vm.val}}" 
                ans="vm.showans" ranks="true" length="vm.slen" init="vm.initready" data="vm.dataready" rod="vm.rodready"
                scrollactive="!vm.childActive"></search-block> 
            -->
            <search-block query="{{vm.val}}" myfavs="vm.myfavs" myffavs="vm.myffavs"
                ans="vm.showans" init="vm.initready" data="vm.dataready" scrollactive="!vm.childActive"></search-block>
        </div>
        <br ng-if="vm.childActive">
        <br ng-if="vm.childActive">
        <br ng-if="vm.childActive">
        <div ui-view ng-if="!vm.isLoading && vm.childActive" class="container" id="page-containter" style=""></div>
    </div>

    <a href="#" class="back-to-top" style="display: inline;">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>

    </a>
</div>
<br>
<br>

<footer class="footer"  
    style=" position: fixed;
            bottom: 0px;
            background: white;
            width: 100%;
            padding-top: 20px;">
    <div class="container">
        <p class="text-muted">
            Rank-X is a registered trademark property of Rank-X LLC. San Diego, CA - 2018
            <span><a ng-click="vm.goPrivacyPolicy()">Privacy Policy</a></span>
            <span><a ng-click="vm.goRankofDayConsole()">RoD</a></span></p>
    </div>
</footer>