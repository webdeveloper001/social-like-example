!function(){"use strict";angular.module("app",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngMessages","pascalprecht.translate","tmh.dynamicLocale","login","ui.router","ui.bootstrap.modal","mgcrea.ngStrap"])}(),angular.module("app").directive("myAlert",["$modal",function(e){"use strict";return{restrict:"E",scope:{mode:"@",boldTextTitle:"@",textAlert:"@",enable:"@"},link:function(t,a,n,r){t.data={mode:t.mode||"info",boldTextTitle:t.boldTextTitle||"title",textAlert:t.textAlert||"text",enable:t.enable||"false"};var s=function(e,t,a){e.data=a,e.close=function(){t.close(e.data)}};s.$inject=["$scope","$modalInstance","data"],console.log("modal enable:   ",t.enable),"true"==t.enable&&a.parent().bind("click",function(e){t.open()}),t.open=function(){var a=e.open({template:'<div class="modal-body" style="padding:0px"><div class="alert alert-{{data.mode}}" style="margin-bottom:0px"><button type="button" class="close" data-ng-click="close()" ><span class="glyphicon glyphicon-remove-circle"></span></button><strong>{{data.boldTextTitle}}</strong><br><p ng-bind-html=\'data.textAlert\' /></div></div>',controller:s,backdrop:!0,keyboard:!0,backdropClick:!0,size:"lg",resolve:{data:function(){return t.data}}});a.result.then(function(e){t.selected=e},function(){})}}}}]),function(){"use strict";function e(e){function t(t,o){for(var i=t.length,l=o.length,c=0,u=0,d=0,m=0,g=0;i>g;g++){a[g]=new Array(i),n[g]=new Array(i);for(var p=0;i>p;p++)a[g][p]=0,n[g][p]=0;r[g]=t[g].id}for(g=0;l>g;g++)c=r.indexOf(o[g].hs),u=r.indexOf(o[g].ls),c>=0&&u>=0&&(o[g].sel==o[g].hs?a[c][u]++:o[g].sel==o[g].ls&&a[u][c]++,n[c][u]++,n[u][c]++);for(d=0,g=0;i>g;g++)for(p=0;i>p;p++)d+=n[g][p];for(m=d/(4*i),g=0;i>g;g++){for(t[g].Rank=0,d=0,p=0;i>p;p++)t[g].Rank=t[g].Rank+a[g][p],d+=n[g][p];t[g].Rank=t[g].Rank/d,m>d&&(t[g].Rank=t[g].Rank*(d/m))}for(var f=0;i>f;f++)for(p=0;i>p;p++)f!=p&&t[p].Rank>=t[f].Rank&&a[f][p]>a[p][f]&&n[f][p]>m&&(t[f].Rank=t[p].Rank+.01);s=t,e.answersR=s,e.R=a,e.GP=n,e.A=r}e.A=[];var a=[],n=[],r=[],s=[],o={computeRanking:t};return o}angular.module("app").service("rank",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e,t,a){function n(t){function a(e){return console.log("creating match record was succesful"),e.data}var n={};n.resource=[],n.resource.push(t),l.push.apply(l,t);var r=c+"/_table/matchtable";return e.post(r,t,{headers:{"Content-Type":"multipart/form-data"},body:n}).then(a,o)}function r(a){function n(e){return l=e.data.resource}if(i()&&!a)return t.when(l);var r=c+"/_table/matchtable";return e.get(r).then(n,o)}function s(t){function a(a){function n(e){console.log("deleting records succesful")}return r=c+"/_table/matchtable?filter=hs="+t,e["delete"](r).then(n,o)}for(var n=0;n<l.length;n++)(l[n].ls==t||l[n].hs==t)&&l.splice(n,1);var r=c+"/_table/matchtable?filter=ls="+t;return e["delete"](r).then(a,o)}function o(e){throw e}function i(){return l.length>0}var l=[],c="/api/v2/mysql",u={GetMatchTable:r,postRec:n,deleteRecordsbyAnswer:s};return u}angular.module("app").factory("matchrec",e),e.$inject=["$http","$q","$rootScope"]}(),function(){"use strict";function e(e,t,a,n,r,s,o,i,l,c,u,d,m,g,p,f,v,b){function h(){C(),A(),w(),$(),D.tableimage=u.cCategory.imagefile,c.computeRanking(u.canswers,u.cmrecs),console.log("Rank Summary Loaded!"),console.log("$rootScope.user",u.user)}function w(){if(u.isLoggedIn){p.loadVotesTable().then(function(e){for(var t=0;t<e.length;t++)if(e[t].category==u.cCategory.id){var a=e[t];u.cvotes.push(a)}}),g.loadEditVotesTable().then(function(e){for(var t=0;t<e.length;t++)if(e[t].category==u.cCategory.id){var a=e[t];u.ceditvotes.push(a)}}),u.cmrecs_user=[];for(var e=0;e<u.cmrecs.length;e++)u.cmrecs[e].user==u.user.id&&u.cmrecs_user.push(u.cmrecs[e]);u.cuseractivity_user=[];for(var e=0;e<u.cuseractivity.length;e++)if(u.cuseractivity[e].user==u.user.id){u.userHasRank=!0,u.userActRecId=u.cuseractivity[e].id;break}}}function y(e){a.go("answerDetail",{index:e})}function k(){return u.canswers.length>1?void a.go("match"):void e.getDialog("answersFew")}function x(){return u.isLoggedIn?I?void e.getDialog("answersFull"):void a.go("addAnswer"):void e.getDialog("notLoggedIn")}function C(){u.cCategory={};for(var e=0;e<s.length;e++)if(s[e].id==t.index){u.cCategory=s[e];break}D.url="http://rankdev.azurewebsites.net/#/rankSummary/"+u.cCategory.id,D.header="table"+u.cCategory.id+".header",D.body="table"+u.cCategory.id+".body";for(var a=[],r=[],e=0;e<o.length;e++)o[e].category==u.cCategory.id&&(a.push(o[e].field),r.push(o[e].isrequired));u.canswers=[];for(var e=0;e<n.length;e++)n[e].category==u.cCategory.id&&u.canswers.push(n[e]);u.canswers["public"]=a,u.canswers.fieldreq=r,D.answers=u.canswers,u.cmrecs=[];for(var e=0;e<i.length;e++)i[e].category==u.cCategory.id&&u.cmrecs.push(i[e]);u.cedits=[];for(var e=0;e<m.length;e++)if(m[e].category==u.cCategory.id){var l=m[e];u.cedits.push(l)}u.cuseractivity=[];for(var e=0;e<f.length;e++)if(f[e].category==u.cCategory.id){var c=f[e];u.cuseractivity.push(c)}D.numContributors=u.cuseractivity.length,u.countries_en=[],u.countries_es=[],u.countries_po=[];for(var e=0;e<v.length;e++)u.countries_en.push(v[e].en),u.countries_es.push(v[e].es),u.countries_po.push(v[e].po)}function A(){for(var e=0;e<D.answers.length;e++)D.answers[e].country=u.countries_en[D.answers[e].cnum]}function $(){I=u.canswers.length>=20?!0:!1}function L(){u.isLoggedIn?u.cmrecs_user.length>0?(D.selOverall="",D.selPersonal="active",D.numContributors=1,c.computeRanking(u.canswers,u.cmrecs_user)):e.getDialog("noPersonalRank"):e.getDialog("notLoggedIn")}function S(){D.selOverall="active",D.selPersonal="",D.numContributors=u.cuseractivity.length,c.computeRanking(u.canswers,u.cmrecs)}var D=this;D.title="rankSummary",D.addAnswerDisabled="",D.answerDetail=y,D.addAnswer=x,D.goRank=k,D.rankOverall=S,D.rankPersonal=L,D.selOverall="active",D.selPersonal="";u.cvotes=[],u.ceditvotes=[],u.cmrecs_user=[];var I=!1;u.userHasRank=!1,u.userActRecId=0,u.$on("$stateChangeSuccess",function(e,t,a,n,r){u.previousState=n.name}),h()}angular.module("app").controller("rankSummary",e),e.$inject=["dialog","$stateParams","$state","answers","answer","categories","tablefields","mrecs","$translate","rank","$rootScope","$modal","edits","editvote","votes","useractivities","countries","country"]}(),function(){"use strict";function e(e,t,a,n,r,s,o,i,l,c){function u(){v(),b(),g()}function d(e){if(!o.isLoggedIn)return void t.getDialog("notLoggedIn");var a={};a.user=o.user.id,a.hs=w.answer1.id,a.ls=w.answer2.id,a.category=o.cCategory.id,a.timestmp=Date.now(),1==e&&(a.sel=w.answer1.id),2==e&&(a.sel=w.answer2.id),D.push(a),o.cmrecs_user.push(a),L++,L>=A&&(L=0),I=!0,g()}function m(){L++,L>=A&&(L=0),g()}function g(){if(w.GP=o.cmrecs_user.length,w.Tot=A,o.cmrecs_user.length>=A)return t.getDialog(I?"goodJobRankComplete":"rankComplete"),void p();if(S)for(var e=y[$[L]],a=k[$[L]],n=!1,r=0;r<o.cmrecs_user.length;r++)if(o.cmrecs_user[r].hs==x[e].id&&o.cmrecs_user[r].ls==x[a].id){n=!0;break}n&&m(),w.answer1=x[y[$[L]]],w.answer2=x[k[$[L]]],h()}function p(){e.go("rankSummary",{index:w.table.id})}function f(t){1===t?e.go("answerDetail",{index:w.answer1.id}):e.go("answerDetail",{index:w.answer2.id})}function v(){y=[],k=[];for(var e=0;C-1>=e;e++)for(var t=e+1;C-1>=t;t++)y.push(e),k.push(t)}function b(){function e(e){var t,a,n=e.length;if(n)for(;--n;)a=Math.floor(Math.random()*(n+1)),t=e[a],e[a]=e[n],e[n]=t;return e}for(var t=0;A>t;t++)$[t]=t;$=e($)}function h(){w["public"]=o.canswers["public"]}var w=this;w.title="match",w.header="table"+o.cCategory.id+".header",w.body="table"+o.cCategory.id+".body";var y=[],k=[],x=o.canswers,C=x.length,A=C*(C-1)/2,$=[],L=0,S=o.cmrecs_user.length>0,D=[],I=!1;w.table=o.cCategory,w.answer1,w.answer2,w.selectAnswer=d,w.rankSummary=p,w.skipMatch=m,w.answerDetail=f,o.$on("$stateChangeSuccess",function(e,t,a,n,r){o.previousState=n.name}),o.$on("$stateChangeStart",function(e,t,a,n,r){"match"==n.name&&D.length>0&&(i.postRec(D),o.userHasRank?c.patchRec(o.userActRecId):c.postRec(),D=[])}),u()}angular.module("app").controller("match",e),e.$inject=["$state","dialog","$location","answer","table","user","$rootScope","matchrec","$modal","useractivity"]}(),function(){"use strict";function e(e,t,a,n,r){function s(t){return e.post("/api/v2/user/session",t).then(function(t){e.defaults.headers.common["X-DreamFactory-Session-Token"]=t.data.session_token,a.session_token=t.data.session_token,n.user=t.data;try{window.localStorage.user=JSON.stringify(t.data)}catch(r){}})}function o(){var e=t.defer(),a=r+"/api/v2/user/session?service=facebook";return e.resolve({url:a}),e.promise}function i(t){function r(t){console.log("oauth results",t),e.defaults.headers.common["X-DreamFactory-Session-Token"]=t.data.session_token,a.session_token=t.data.session_token,n.user=t.data;try{window.localStorage.user=JSON.stringify(t.data)}catch(r){}}return e.post("/api/v2/user/session?oauth_callback=true&service=facebook&"+t).then(r,c)}function l(){return e["delete"]("/api/v2/user/session").then(function(t){delete e.defaults.headers.common["X-DreamFactory-Session-Token"],a.remove("session_token"),delete n.user,n.isLoggedIn=!1;try{window.localStorage.removeItem("user")}catch(r){}})}function c(e){throw console.log("error",e),e}function u(t){return console.log("options",t),e.post("/api/v2/user/register?login=true",t).then(function(e){console.log("register result",e)},function(e){console.log("error",e)})}var d={initiate:s,loginWithFacebook:o,oauthWithFacebook:i,register:u,logout:l};return d}angular.module("app").factory("login",e),e.$inject=["$http","$q","$cookies","$rootScope","INSTANCE_URL"]}(),function(){"use strict";angular.module("login",["ngResource","ngCookies","ui.router"]).run(["$rootScope",function(e){try{e.user=JSON.parse(window.localStorage.user),e.user&&(e.isLoggedIn=!0)}catch(t){}}]).config(function(){})}(),function(){"use strict";function e(e,t,a,n){function r(e){return e.url.indexOf("/api/v2")>-1&&(e.url=n+e.url),"post"===e.method.toLowerCase()&&e.url.indexOf("/api/v2/user/session")>-1&&delete e.headers["X-DreamFactory-Session-Token"],e}function s(a){return console.log("result",a),302==a.status?(console.log("result",a),e.path("/login"),t.reject(a)):((401===a.status||403===a.status&&a.data.error.message.indexOf("token")>-1)&&e.path("/login"),t.reject(a))}var o={request:r,responseError:s};return o}angular.module("login").factory("httpInterceptor",e),e.$inject=["$location","$q","$injector","INSTANCE_URL"]}(),function(){"use strict";function e(e,t,a){function n(){t.isLoggedIn=!1}function r(){console.log("register",r),a.register({email:o.username,password:o.password,first_name:o.firstName||"Address",last_name:o.lastName||"Book"}).then(function(){e.path("/login")},function(e){o.message=e.Message,console.log("Error: ",e)})}function s(){e.path("/login")}var o=this;o.title="register",o.username="",o.password="",o.confirm="",o.firstName="",o.lastName="",o.message="",o.register=r,o.signIn=s,n()}angular.module("login").controller("register",e),e.$inject=["$location","$rootScope","login"]}(),function(){"use strict";function e(e,t,a,n,r){function s(){var t=location.search,r=t.lastIndexOf("?");r>=0&&(t=t.substr(r+1)),t&&n.oauthWithFacebook(t).then(function(t){a.isLoggedIn=!0,console.log("isLoggedIn",a.isLoggedIn),e.path("/")}),console.log("vm.code",u.code),a.isLoggedIn=!1}function o(){console.log("submit"),n.initiate({email:u.username,password:u.password}).then(function(){a.isLoggedIn=!0,console.log("isLoggedIn",a.isLoggedIn),e.path("/")})}function i(){n.loginWithFacebook().then(function(e){t.location=e.url})}function l(){e.path("/register")}function c(){r.getDialog("whyFacebook")}var u=this;u.title="login",u.username="",u.password="",u.code="",u.submit=o,u.register=l,u.redirectForFacebook=i,u.whyFacebookDialog=c,s()}angular.module("login").controller("login",e),e.$inject=["$location","$window","$rootScope","login","dialog"]}(),function(){"use strict";function e(e,t,a,n,r){function s(){var e=t.use(),n=r.getDisplayNamebyLocale(e);r.setLocaleByDisplayName(n),console.log("Navbar Loaded!"),console.log("isLoggedIn",!a.isLoggedIn),console.log("user",a.user)}function o(){e.path("/login")}function i(){n.logout().then(function(){l.user="",l.isLoggedIn=!1,e.path("/")})}var l=this;l.title="navbar",l.user=a.user,l.isLoggedIn=a.isLoggedIn?a.isLoggedIn:!1,l.logout=i,l.goToLogin=o,s()}angular.module("app").controller("navbar",e),e.$inject=["$location","$translate","$rootScope","login","LocaleService"]}(),function(){"use strict";function e(e,t,a){function n(){console.log("Layout Loaded!")}var r=this;r.title="layout",r.header="",n()}angular.module("app").controller("layout",e),e.$inject=["$location","$rootScope","$translate"]}(),function(){"use strict";function e(e,t){function a(){console.log("About page Loaded!")}var n=this;n.title="about",a()}angular.module("app").controller("dropmenu",e),e.$inject=["$location","$translate"]}(),function(){"use strict";function e(e){function t(){}var a={getData:t};return a}angular.module("app").factory("datacontext",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(){console.log("About page Loaded!")}var a=this;a.title="about",t()}angular.module("app").controller("about",e),e.$inject=["$location"]}(),angular.module("app").directive("fileModel",["$parse",function(e){"use strict";return{restrict:"A",link:function(t,a,n){var r=e(n.fileModel),s=r.assign;a.bind("change",function(){t.$apply(function(){s(t,a[0].files[0])})})}}}]),function(){"use strict";function e(e,t,a){function n(n){function r(e){return c=e.data.resource}if(i()&&!n)return t.when(c);var s=u+"/_table/votetable/?filter=user="+a.user.id;return e.get(s).then(r,l)}function r(t,n,r){function s(e){var t=i;return t.id=e.data.resource[0].id,c.push(t),a.cvotes.push(t),console.log("Creating new voting record was succesful"),e.data}var o={};o.resource=[];var i={};i.user=a.user.id,i.answer=n,i.category=a.cCategory.id,i.vote=r,i.timestmp=Date.now(),o.resource.push(i);var d=u+"/_table/votetable";return e.post(d,o,{headers:{"Content-Type":"multipart/form-data"},body:o}).then(s,l)}function s(t,a){function n(e){return console.log("Updating vote record was succesful"),e.data}var r={};r.resource=[];var s={};s.id=t,s.vote=a,s.timestmp=Date.now(),r.resource.push(s);var o=u+"/_table/votetable",i=c.map(function(e){return e.id}).indexOf(t);return c[i].vote=a,c[i].timestmp=s.timestmp,e.patch(o,r,{headers:{"Content-Type":"multipart/form-data"},body:r}).then(n,l)}function o(t){function a(e){return console.log("Deleting vote records was succesful"),e.data}for(var n=0;n<c.length;n++)c[n].answer==t&&c.splice(n,1);var r=u+"/_table/votetable?filter=answer="+t;return e["delete"](r).then(a,l)}function i(e){return c.length>0}function l(e){throw e}var c=[],u="/api/v2/mysql",d={loadVotesTable:n,patchRec:s,postRec:r,deleteVotesbyAnswer:o};return d}angular.module("app").factory("votes",e),e.$inject=["$http","$q","$rootScope"]}(),function(){"use strict";function e(e,t,a){function n(a){function n(e){return l=e.data.resource}if(o()&&!a)return t.when(l);var r=c;return e.get(r).then(n,i)}function r(){function t(e){return console.log("creating useractivity record was succesful"),e.data}var n={};n.user=a.user.id,n.category=a.cCategory.id,n.timestmp=Date.now();var r={};r.resource=[],r.resource.push(n),l.push(n);var s=c;return e.post(s,r,{headers:{"Content-Type":"multipart/form-data"},body:r}).then(t,i)}function s(t){function a(e){return console.log("Updating useractivity record was succesful"),e.data}var n={};n.resource=[];var r={};r.id=t,r.timestmp=Date.now(),n.resource.push(r);var s=c;return e.patch(s,n,{headers:{"Content-Type":"multipart/form-data"},body:n}).then(a,i)}function o(){return l.length>0}function i(e){throw e}var l=[],c="/api/v2/mysql/_table/useractivity",u={getAllUserActivity:n,postRec:r,patchRec:s};return u}angular.module("app").factory("useractivity",e),e.$inject=["$http","$q","$rootScope"]}(),function(){"use strict";function e(e,t){function a(){return t.when(s)}function n(e){return t.when(s[e])}function r(e){var a=t.defer();return s.push(e),a.resolve(s),a.promise}var s=[];s=[{Name:"user1",GPIdx:0,GPA:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],GPR:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T1v:[-1,-1,-1,0,0,0,1,1,1]}];var o={getUsers:a,getUser:n,addUser:r};return o}angular.module("app").factory("user",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t){function a(a){function n(e){return i=e.data.resource}if(r()&&!a)return t.when(i);var o=l;return e.get(o).then(n,s)}function n(t,a){function n(e){return o=e.data}var r=l+"/?fields=field&filter=tableid="+t;return e.get(r).then(n,s)}function r(){return i.length>0}function s(e){throw e}var o,i=[],l="/api/v2/mysql/_table/tablefield",c={getAllTableFields:a,getTableFields:n};return c}angular.module("app").factory("tablefield",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t){function a(a){function n(e){return c=e.data.resource}if(s()&&!a)return t.when(c);var r=u;return e.get(r).then(n,i)}function n(a,n){function r(e){return l=e.data}if(o(a)&&!n)return t.when(l);var s=u+"/"+a;return e.get(s).then(r,i)}function r(e){var a=t.defer();return c.push(e),a.resolve(c),a.promise}function s(){return c.length>0}function o(e){return l&&l.id==e}function i(e){throw e}var l,c=[],u="/api/v2/mysql/_table/ranking",d={getTables:a,getTable:n,addTable:r};return d}angular.module("app").factory("table",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t){function a(e,t,a){function o(e){return console.log("query succeded"),s=e,r(s)}function i(e){console.log("image query failed")}var l=n(e,t,a);return l.then(o,i)}function n(a,n,r){for(var s="",o="https://www.googleapis.com/customsearch/v1?",i="&cx=000139851817949790257%3Aqwkdgi2q2ew",l="&key=AIzaSyBr143lDEROCrUWdKvqPQmhQ5BoFo13oSE",c="&num=10&searchType=image&fileType=jpg%2C+png%2C+bmp&imgType=photo&imgSize=large&filter=1",u="",d="",m="",g="",p=t.cCategory.keywords,f=[],v=0;v<a.length;v++)"edit"==r?f[v]=a[v].cval:"add"==r&&(f[v]=a[v].val);switch(a.length){case 1:f[0]&&(u=f[0]);break;case 2:f[0]&&(u=f[0]),f[1]&&(d=f[1]);break;case 3:f[0]&&(u=f[0]),f[1]&&(d=f[1]),f[2]&&(m=f[2]);break;case 4:f[0]&&(u=f[0]),f[1]&&(d=f[1]),f[2]&&(m=f[2]),f[3]&&(g=f[3])}switch(n){case 1:s="q="+u+" "+p;break;case 2:s="q="+u+" "+d+" "+m+" "+g+" "+p;break;case 3:s="q="+u+" "+m+" "+g+" "+p;break;case 4:s="q="+u+" "+d+" "+p}var b=o+s+i+c+l;return console.log("url",b),e.get(b)}function r(e){for(var t=[],a=!1,n=!1,r=0,s=0,i=0,l=0;o>l;l++)if(a=!1,n=!1,s=e.data.items[l].image.height,i=e.data.items[l].image.width,i>s&&1.8>i/s&&(a=!0),r=e.data.items[l].link.length,("g"==e.data.items[l].link[r-1]||"p"==e.data.items[l].link[r-1])&&(n=!0),a&&n){var c=e.data.items[l].link;console.log("url result ",c),t.push(c)}return t}var s=[],o=10,i={imageSearch:n,getImageLinks:a,filterImageResults:r};return i}angular.module("app").factory("image",e),e.$inject=["$http","$rootScope"]}(),function(){"use strict";function e(e,t,a){function n(t,n){function o(e){return console.log("creating flag answer record was succesful"),e.data}var i={};i.user=a.user.id,i.answer=t,i.flag=n,i.timestmp=Date.now();var l={};l.resource=[],l.resource.push(i);var c=s;return e.post(c,l,{headers:{"Content-Type":"multipart/form-data"},body:l}).then(o,r)}function r(e){throw e}var s="/api/v2/mysql/_table/flagtable",o={flagAnswer:n};return o}angular.module("app").factory("flag",e),e.$inject=["$http","$q","$rootScope"]}(),function(){"use strict";function e(e,t,a){this.uploadFileToUrl=function(t,a){var n="/api/v2/files/images/"+t.name;return e.post(n,t,{headers:{"Content-Type":"multipart/form-data"}}).success(function(e){console.log("Uploading file was succesful")}).error(function(e){console.log("There was a problem uploading your file")})}}angular.module("app").service("fileupload",e),e.$inject=["$http","$cookies","APP_API_KEY"]}(),function(){"use strict";function e(e,t){function a(t){function a(e){return console.log("result",e),e.data}console.log("file",t);var n=s+"/"+t.name;return e.post(n,t,{headers:{"Content-Type":"multipart/form-data"}}).then(a,r)}function n(a){function n(e){return e.data}var o=s+"/"+encodeURIComponent(a);return e.get(o,{params:{api_key:t}}).then(n,r)}function r(e){throw console.log("Error: ",e),e}var s="/api/v2/files/images",o={uploadFile:a,getFile:n};return o}angular.module("app").factory("file",e),e.$inject=["$http","APP_API_KEY"]}(),function(){"use strict";function e(e,t,a){function n(n){function r(e){return u=e.data.resource}if(l()&&!n)return t.when(u);var s=d+"/_table/editvotetable/?filter=user="+a.user.id;return e.get(s).then(r,c)}function r(t){function n(e){for(var n={},r=0;r<e.data.resource.length;r++)n=t[r],n.id=e.data.resource[r].id,u.push(n),a.ceditvotes.push(n);return console.log("Creating new voting record for edit was succesful"),e.data}var r={};r.resource=[],r.resource.push(t);var s=d+"/_table/editvotetable";return e.post(s,t,{headers:{"Content-Type":"multipart/form-data"},body:t}).then(n,c)}function s(t,a){function n(e){return console.log("Updating vote record for edit was succesful"),e.data}var r={};r.resource=[];var s={};s.id=t,s.vote=a,s.timestmp=Date.now(),r.resource.push(s);var o=d+"/_table/editvotetable",i=u.map(function(e){return e.id}).indexOf(t);return u[i].vote=a,u[i].timestmp=s.timestmp,e.patch(o,r,{headers:{"Content-Type":"multipart/form-data"},body:r}).then(n,c)}function o(t){function a(e){return console.log("Deleting edit vote records for answer was succesful"),e.data}for(var n=0;n<u.length;n++)u[n].answer==t&&u.splice(n,1);var r=d+"/_table/editvotetable?filter=answer="+t;return e["delete"](r).then(a,c)}function i(t){function a(e){return console.log("Deleting edit vote records for answer was succesful"),e.data}for(var n=0;n<u.length;n++)u[n].edit==t&&u.splice(n,1);var r=d+"/_table/editvotetable?filter=edit="+t;return e["delete"](r).then(a,c)}function l(e){return u.length>0}function c(e){throw e}var u=[],d="/api/v2/mysql",m={loadEditVotesTable:n,patchEditVoteRec:s,postEditVoteRec:r,deleteEditVotes:i,deleteEditVotesbyAnswer:o};return m}angular.module("app").factory("editvote",e),e.$inject=["$http","$q","$rootScope"]}(),function(){"use strict";function e(e,t,a){function n(a){function n(e){return u=e.data.resource}if(l()&&!a)return t.when(u);var r=d;return e.get(r).then(n,c)}function r(t){function n(e){var n=t;return n.id=e.data.resource[0].id,u.push(n),a.cedits.push(n),console.log("Adding new Edit succesful",e),e.data}var r=d,s=[];return s.push(t),e.post(r,s,{headers:{"Content-Type":"multipart/form-data"},body:s}).then(n,c)}function s(t,a,n){function r(e){return console.log("updating edit vote counts succesful"),e.data}var s={};s.resource=[];var o={};o.id=t,o.upV=a,o.downV=n,s.resource.push(o);var i=d;return e.patch(i,s,{headers:{"Content-Type":"multipart/form-data"},body:s}).then(r,c)}function o(t){function a(e){return console.log("Deleting answer was succesful"),e.data}var n={};n.resource=[];var r={};r.id=t,n.resource.push(r);var s=d+"/"+t,o=u.map(function(e){return e.id}).indexOf(t);return o>-1&&u.splice(o,1),e["delete"](s,r,{headers:{"Content-Type":"multipart/form-data"},body:n}).then(a,c)}function i(t){function a(e){return console.log("Deleting edits for answer was succesful"),e.data}for(var n=0;n<u.length;n++)u[n].answer==t&&u.splice(n,1);var r=d+"?filter=answer="+t;return e["delete"](r).then(a,c)}function l(){return u.length>0}function c(e){throw e}var u=[],d="/api/v2/mysql/_table/edittable",m={getEdits:n,addEdit:r,updateEdit:s,deleteEdit:o,deleteEditbyAnswer:i};return m}angular.module("app").factory("edit",e),e.$inject=["$http","$q","$rootScope"]}(),function(){"use strict";function e(e,t,a){function n(e,t){BootstrapDialog.show({type:BootstrapDialog.TYPE_PRIMARY,title:e,message:t,buttons:[{id:"btn-ok",label:"OK",cssClass:"btn-primary",autospin:!1,action:function(e){e.close()}}]})}function r(a){var r=e("dialog."+a+".title"),s=e("dialog."+a+".text"),o="",i="";t.all([r,s]).then(function(e){o=e[0],i=e[1],n(o,i)})}function s(a,n,r){var s,o=e.use(),i="",l="",c="",u="",d=e(a.field);t.all([d]).then(function(e){s=e[0],"en_US"==o&&(i="Please Confirm",c="Cancel",u="Confirm","image"==n&&(l="You want to change the image of <strong><em>"+a.name+"</em></strong> to this one: </br><img src="+a.imageURL+' class="thumbnail" style="width:60%; max-height:150px">'),"field"==n&&(l='You want to change the <strong class="capitalize"><em>'+s+"</em></strong> of <strong><em>"+a.name+"</em></strong> to <strong><em>"+a.nval+"</em></strong>.")),"po_BR"==o&&(i="Confirme por favor",c="Cancelar",u="Confirmar","image"==n&&(l="Você quer mudar a imagem de <strong><em>"+a.name+"</em></strong> a este: </br><img src="+a.imageURL+' class="thumbnail" style="width:60%; max-height:150px">'),"field"==n&&(l='Voce quer mudar de <strong class="capitalize"><em>'+s+"</em></strong> de <strong><em>"+a.name+"</em></strong> para <strong><em>"+a.nval+"</em></strong>.")),"es_SP"==o&&(i="Por favor confirma",c="Cancelar",u="Confirmar","image"==n&&(l="Quieres cambiar la imagen de <strong><em>"+a.name+"</em></strong> por esta: </br><img src="+a.imageURL+' class="thumbnail" style="width:60%; max-height:150px">'),"field"==n&&(l='Quieres cambiar el <strong class="capitalize"><em>'+s+"</em></strong> de <strong><em>"+a.name+"</em></strong> a <strong><em>"+a.nval+"</em></strong>.")),BootstrapDialog.confirm({type:BootstrapDialog.TYPE_PRIMARY,title:i,message:l,closable:!0,draggable:!0,btnCancelLabel:c,btnOKLabel:u,btnOKClass:"btn-primary",btnCancelAction:function(e){e.close()},callback:function(e){e&&r(a)}})})}function o(n,r,s){var o,l,c,u,d="",m="",g="",p="table"+a.cCategory.id+".header",f=e("name"),v=e("nickname"),b=e("country"),h=e("club"),w=e(p);t.all([f,v,b,h,w]).then(function(e){o=e[0],u=e[1],l=e[2],c=e[3],m=e[4];for(var t=0;t<a.canswers["public"].length;t++){switch(a.canswers["public"][t]){case"name":g='<strong class="capitalize">'+o+"</strong>: "+n.name+"</br>";break;case"nickname":g=n.nickname?'<strong class="capitalize">'+u+"</strong>: "+n.nickname+"</br>":"<strong>"+u+"</strong>: </br>";break;case"country":g='<strong class="capitalize">'+l+"</strong>: "+a.cCountries[n.cnum]+"</br>";break;case"club":g=n.club?'<strong class="capitalize">'+c+"b</strong>: "+n.club+"</br>":"<strong>"+c+"</strong>: </br>"}d+=g}i(n,m,d,r,s)})}function i(t,a,n,r,s){var o=e.use(),i="",l="",c="",u="";"en_US"==o&&(i="Please Confirm",c="Cancel",u="Confirm",l="You want to add the following answer to <strong>"+a+"</strong>. </br></br>"+n+"</br>With the following image:<img src="+r+' class="thumbnail" style="width:60%; max-height:150px">'),"po_BR"==o&&(i="Confirme por favor",c="Cancelar",u="Confirmar",l="Voce quer adicionar a seguinte resposta à <strong>"+a+"</strong>. </br></br>"+n+"</br>Com a seguinte imagem:<img src="+r+' class="thumbnail" style="width:60%; max-height:150px">'),"es_SP"==o&&(i="Por favor confirma",c="Cancelar",u="Confirmar",l="Quieres agregar la siguiente respuesta a <strong>"+a+"</strong>. </br></br>"+n+"</br>Con la siguiente imagen:<img src="+r+' class="thumbnail" style="width:60%; max-height:150px">'),BootstrapDialog.confirm({type:BootstrapDialog.TYPE_PRIMARY,title:i,message:l,closable:!0,draggable:!0,btnCancelLabel:c,btnOKLabel:u,btnOKClass:"btn-primary",btnCancelAction:function(e){e.close()},callback:function(e){e&&s(t)}})}function l(t,a,n,r){var s=e.use(),o="",i="";"approve"==n&&("en_US"==s&&(o="Changed Approved",i="Congrats! With your vote, the change of <strong>"+t.field+"</strong> of <strong>"+t.name+"</strong> to <strong>"+t.nval+"</strong> gets approved."),"po_BR"==s&&(o="Mudança Aprovada",i="Parabens!. Com o seu voto, a mudança de <strong>"+t.field+"</strong> de <strong>"+t.name+"</strong> para <strong>"+t.nval+"</strong> seja aprovada."),"es_SP"==s&&(o="Cambio Aprovado",i="Felicidades! Con tu voto, el cambio de <strong>"+t.field+"</strong> de <strong>"+t.name+"</strong> para <strong>"+t.nval+"</strong> ha sido aprovado.")),"reject"==n&&("en_US"==s&&(o="Changed Rejected",i="Congrats! With your vote, the change of <strong>"+t.field+"</strong> of <strong>"+t.name+"</strong> to <strong>"+t.nval+"</strong> has been rejected."),"po_BR"==s&&(o="Mudança Rejeitada",i="Parabens!. Com o seu voto, a mudança de <strong>"+t.field+"</strong> de <strong>"+t.name+"</strong> para <strong>"+t.nval+"</strong> foi rejeitado."),"es_SP"==s&&(o="Cambio Rechazado",i="Felicidades! Con tu voto, el cambio de <strong>"+t.field+"</strong> de <strong>"+t.name+"</strong> para <strong>"+t.nval+"</strong> ha sido rechazado.")),BootstrapDialog.show({type:BootstrapDialog.TYPE_PRIMARY,title:o,message:i,buttons:[{id:"btn-ok",label:"OK",cssClass:"btn-primary",autospin:!1,action:function(e,t){r(a,n),e.close()}}]})}function c(t){var a=e.use(),n="",r="";"editAnswer"==t&&("en_US"==a&&(r="Information Edits",n="Use edits to correct, add or update information in a profile. All edits need to be accepted by other users before they are approved. </br></br>An edit or change becomes approved when the number of people that agree exceeds the number of people that disagree by 5. </br></br>An edit or change gets rejected when the number of people that disagree exceeds those that agree by 5. </br></br> Only one edit per field at a time is allowed. Make sure you vote on the edits you agree or disagree."),"po_BR"==a&&(r="Edições de informação",n="Uso edições para corrigir, adicionar ou atualizar informação em um perfil. Todas as edições preciso de ser aceites por outros usuários antes de serem aprovadas. </br></br>Uma ediçõe ou mudanca ser aprovada quando o número de pessoas que concordam excede o número de pessoas que discordam por 5.</br></br>Uma ediçõe ou mudanca ser rejeitado quando o número de pessoas que nao concordam excede o número de pessoas que concordam por 5.</br></br> Apenas uma edição por campo de cada vez é permitido. Certifique-se de votar as edições você concorda ou discordar."),"es_SP"==a&&(r="Cambios de la Informacion",n="Usa los cambios para agregar o corregir la informacion en este perfil. Todos los cambio necesitan ser aprovados por otros usuarios antes de ser aprovados. </br></br>Un cambio es aprovado cuando el numero de personas estan de acuerdo con el cambio excede el de las que esta en contra por 5. </br></br>Un cambio es rechazado cuando el numero de personas estan en contra del cambio excede el de las que esta a favor por 5. </br></br> Solo un campo puede estar pendiente de cambio a la vez. Vota por los cambios con los que estas de acuerdo.")),"addAnswer"==t&&("en_US"==a&&(r="Add an Answer",n="1. Fill out the form. The fields marked with * are required. All other fields are not required but recommended. <br/><br/>2. Click the 'Load Images' button. <br/><br/>3. Use '>>' and '<<' buttons to browse through the images. You can 'Load More' images.<br/><br/>4. When you find the image you like 'Add' your answer to the ranking.<br/><br/><br/>NOTE: Not all images will correspond to your answer. Entering all fields will help with the image results."),"po_BR"==a&&(r="Adicionar uma Resposta",n="Preencha o formulário. Os campos marcados com ** são obrigatórios. Todos os outros campos não são necessários, mas recomendado. <br/><br/>2. Clique em 'Carregar Imagens ' o botão. <br/><br/>3. Use os botões '<<' e '>>' para navegar através das imagens. Você pode 'Load Mais' imagens.<br/><br/>4. Quando encontrar a imagem que você gosta 'Adicionar ' a sua resposta para o ranking.<br/><br/><br/>NOTA: Nem todas as imagens corresponderá a sua resposta. Entrando todos os campos vai ajudar com os resultados de imagem."),"es_SP"==a&&(r="Agrega una Respuesta",n="1. Llena la informacion. Los cambios marcados con ** son necesarios. Los otros datos no son necesarios pero recomendados. <br/><br/>2. Selecciona el boton de 'Cargar Imageness'. <br/><br/>3. Use los botones '>>' y '<<' para ver las opciones de imagenes. Puedes cargar mas opciones dando click en 'Descargar Mas'.<br/><br/>4. Cuando decidas que imagen usar, selecciona 'Agregar' para anadir tu respuesta al ranking.<br/><br/><br/>NOTE: No todas las imagenes corresponderan a tu respuesta. Mientras mas datos incluyas, las imagenes seran mas acertadas.")),
BootstrapDialog.show({type:BootstrapDialog.TYPE_PRIMARY,title:r,message:n,buttons:[{id:"btn-ok",label:"OK",cssClass:"btn-primary",autospin:!1,action:function(e){e.close()}}]})}function u(e){BootstrapDialog.show({type:BootstrapDialog.TYPE_PRIMARY,title:"Image URL",message:e,buttons:[{id:"btn-ok",label:"OK",cssClass:"btn-primary",autospin:!1,action:function(e){e.close()}}]})}var d={editConfirm:s,getDialog:r,showDialog:n,howItWorks:c,addAnswer:o,showAddAnswer:i,editChangeEffective:l,url:u};return d}angular.module("app").factory("dialog",e),e.$inject=["$translate","$q","$rootScope"]}(),function(){"use strict";function e(e,t,a,n){function r(a){function n(e){return c=e.data.resource}if(i()&&!a)return t.when(c);var r=u;return e.get(r).then(n,l)}function s(){var e=a.use();"en_US"==e&&(n.cCountries=n.countries_en),"es_SP"==e&&(n.cCountries=n.countries_es),"po_BR"==e&&(n.cCountries=n.countries_po)}function o(e){for(var t=!1,a=-1,r=0;r<n.cCountries.length;r++)e==n.cCountries[r]&&(t=!0,a=r);return console.log("validateInput ",e),console.log("isValid ",t),console.log("Index ",a),[t,a]}function i(){return c.length>0}function l(e){throw e}var c=[],u="/api/v2/mysql/_table/countries",d={getCountries:r,loadCountries:s,validateCountry:o};return d}angular.module("app").factory("country",e),e.$inject=["$http","$q","$translate","$rootScope"]}(),function(){"use strict";function e(e,t,a){function n(a){function n(e){return g=e.data.resource}if(c()&&!a)return t.when(g);var r=p;return e.get(r).then(n,d)}function r(a,n){function r(e){return m=e.data}if(u(a)&&!n)return t.when(m);var s=p+"/"+a;return e.get(s).then(r,d)}function s(t){function a(e){var a=t;return a.id=e.data.resource[0].id,g.push(a),console.log("result",e),e.data}var n=p,r=[];return r.push(t),e.post(n,r,{headers:{"Content-Type":"multipart/form-data"},body:r}).then(a,d)}function o(t,n,r){function s(e){return console.log("updating answer succesful"),e.data}var o={};o.resource=[];var i={};i.id=t;for(var l=0;l<n.length;l++)switch(n[l]){case"name":i.name=r[l];break;case"nickname":i.nickname=r[l];break;case"country":i.name=r[l];break;case"club":i.club=r[l];break;case"upV":i.upV=r[l];break;case"downV":i.downV=r[l];break;case"image":i.imageurl=r[l]}o.resource.push(i);for(var c=p,u=a.A.indexOf(+t),l=0;l<n.length;l++)switch(n[l]){case"name":a.canswers[u].name=r[l];break;case"nickname":a.canswers[u].nickname=r[l];break;case"country":a.canswers[u].name=r[l];break;case"club":a.canswers[u].club=r[l];break;case"upV":a.canswers[u].upV=r[l];break;case"downV":a.canswers[u].downV=r[l];break;case"image":a.canswers[u].imageurl=r[l]}return e.patch(c,o,{headers:{"Content-Type":"multipart/form-data"},body:o}).then(s,d)}function i(t,a){function n(e){return console.log(" answer flagged succesful"),e.data}var r={};r.resource=[];var s={};s.id=t,s.flag=a,r.resource.push(s);var o=p;return e.patch(o,r,{headers:{"Content-Type":"multipart/form-data"},body:r}).then(n,d)}function l(t){function a(e){return console.log("Deleting answer was succesful"),e.data}var n={};n.resource=[];var r={};r.id=t,n.resource.push(r);var s=p+"/"+t,o=g.map(function(e){return e.id}).indexOf(t);return o>-1&&g.splice(o,1),e["delete"](s,r,{headers:{"Content-Type":"multipart/form-data"},body:n}).then(a,d)}function c(){return g.length>0}function u(e){return m&&m.id==e}function d(e){throw e}var m,g=[],p="/api/v2/mysql/_table/answers",f={getAnswers:n,getAnswer:r,addAnswer:s,updateAnswer:o,deleteAnswer:l,flagAnswer:i};return f}angular.module("app").factory("answer",e),e.$inject=["$http","$q","$rootScope"]}(),function(){"use strict";function e(e,t,a,n,r,s,o,i,l,c,u,d){function m(){d.loadCountries(),E.countries=r.cCountries,g(),p(E.answer.id),console.log("Edit Answer Activated!")}function g(){for(var e=0;e<r.canswers["public"].length;e++){switch(q={},q.field=r.canswers["public"][e],r.canswers["public"][e]){case"name":q.cval=E.answer.name;break;case"nickname":q.cval=E.answer.nickname;break;case"country":q.cval=E.answer.country;break;case"club":q.cval=E.answer.club}q.val="",q.opts="country"==q.field?"c for c in vm.countries":"c for c in vm.emptyarray",E.publicfields.push(q)}}function p(e){E.edits=[],N=[],j=[];for(var t={},a=0;a<r.cedits.length;a++)if(r.cedits[a].answer==e){switch(t=r.cedits[a],t.vote=0,t.idx=a,t.agree="",t.disagree="",r.canswers["public"][0]){case"name":t.name=E.answer.name;break;case"country":t.name=E.answer.country;break;case"club":t.name=E.answer.club}E.edits.push(t),N.push(r.cedits[a].upV),j.push(r.cedits[a].downV)}h(E.answer.id)}function f(t){if(!r.isLoggedIn)return void e.getDialog("notLoggedIn");for(var a=!1,n=0;n<E.edits.length;n++)if(E.edits[n].field==t.field){a=!0;break}if(a)return void e.getDialog("editFieldExists");var s={};switch(s.field=t.field,t.field){case"name":s.cval=E.answer.name;break;case"nickname":s.cval=E.answer.nickname;break;case"club":s.cval=E.answer.club;break;case"country":s.cval=E.answer.country}switch(s.nval=t.val,s.cval||(s.cval=""),s.answer=E.answer.id,s.upV=0,s.downV=0,s.imageURL="",s.display="none",r.canswers["public"][0]){case"name":s.name=E.answer.name;break;case"country":s.name=E.answer.country;break;case"club":s.name=E.answer.club}s.user=r.user.id,s.username=r.user.name,s.category=r.cCategory.id,s.timestmp=Date.now(),e.editConfirm(s,"field",D)}function v(){if(!r.isLoggedIn)return void e.getDialog("notLoggedIn");for(var t=!1,a=0;a<E.edits.length;a++)if("image"==E.edits[a].field){t=!0;break}if(t)return void e.getDialog("editFieldExists");var n=u.getImageLinks(E.publicfields,W,"edit");n.then(_,P)}function b(){var t={};switch(t.field="image",t.cval=E.answer.imageurl,t.nval="",t.imageURL=E.imageURL,t.display="inline",t.answer=E.answer.id,t.upV=0,t.downV=0,r.canswers["public"][0]){case"name":t.name=E.answer.name;break;case"country":t.name=E.answer.country;break;case"club":t.name=E.answer.club}t.user=r.user.id,t.username=r.user.name,t.category=r.cCategory.id,t.timestmp=Date.now(),e.editConfirm(t,"image",I)}function h(e){for(var t={},a=0;a<r.ceditvotes.length;a++)r.ceditvotes[a].answer==e&&(t=r.ceditvotes[a],O.push(t));for(a=0;a<E.edits.length;a++)for(var n=0;n<O.length;n++)E.edits[a].id==O[n].edit&&(E.edits[a].vote=O[n].vote);k()}function w(t,a){if(!r.isLoggedIn)return void e.getDialog("notLoggedIn");switch(t.vote){case 1:E.edits[a].vote=0,E.edits[a].upV--;break;case 0:E.edits[a].vote=1,E.edits[a].upV++;break;case-1:E.edits[a].vote=1,E.edits[a].upV++,E.edits[a].downV--}x(a),k()}function y(t,a){if(!r.isLoggedIn)return void e.getDialog("notLoggedIn");switch(t.vote){case 1:E.edits[a].vote=-1,E.edits[a].upV--,E.edits[a].downV++;break;case 0:E.edits[a].vote=-1,E.edits[a].downV++;break;case-1:E.edits[a].vote=0,E.edits[a].downV--}x(a),k()}function k(){for(var e=0;e<E.edits.length;e++)switch(E.edits[e].vote){case 1:E.edits[e].agree="active",E.edits[e].disagree="";break;case 0:E.edits[e].agree="",E.edits[e].disagree="";break;case-1:E.edits[e].agree="",E.edits[e].disagree="active"}}function x(t){if(E.edits[t].upV>E.edits[t].downV){if(E.edits[t].upV-E.edits[t].downV>=B)return void e.editChangeEffective(E.edits[t],t,"approve",A)}else if(E.edits[t].downV>E.edits[t].upV&&E.edits[t].downV-E.edits[t].upV>=M)return void e.editChangeEffective(E.edits[t],t,"reject",A)}function C(){console.log("updateRecords @ editAnswer");for(var e=!1,t=[],a={},n=0;n<E.edits.length;n++){e=!1;for(var s=0;s<O.length;s++)if(E.edits[n].id==O[s].edit){e=!0;break}e?l.patchEditVoteRec(O[s].id,E.edits[n].vote):0!=E.edits[n].vote&&(a={},a.edit=E.edits[n].id,a.user=r.user.id,a.category=r.cCategory.id,a.answer=E.edits[n].answer,a.vote=E.edits[n].vote,a.timestmp=Date.now(),t.push(a)),(E.edits[n].upV!=N[n]||E.edits[n].downV!=j[n])&&i.updateEdit(E.edits[n].id,E.edits[n].upV,E.edits[n].downV)}t.length>0&&(l.postEditVoteRec(t),t=[]),F=!0}function A(e,t){"approve"==t&&($(e),R()),"reject"==t&&L(e)}function $(e){console.log("Edit has been approved"),"image"==E.edits[e].field?c.updateAnswer(E.edits[e].answer,[E.edits[e].field],[E.edits[e].imageURL]):c.updateAnswer(E.edits[e].answer,[E.edits[e].field],[E.edits[e].nval]),i.deleteEdit(E.edits[e].id),l.deleteEditVotes(E.edits[e].id),r.cedits.splice(E.edits[e].idx,1),E.edits.splice(e,1)}function L(e){console.log("Edit has been discarded"),i.deleteEdit(E.edits[e].id),l.deleteEditVotes(E.edits[e].id),r.cedits.splice(E.edits[e].idx,1),E.edits.splice(e,1)}function S(){e.howItWorks("editAnswer")}function D(e){C(),F=!1;var t=i.addEdit(e);console.log("creating edit"),t.then(function(){p(E.answer.id)})}function I(e){C(),F=!1;var t=i.addEdit(e);t.then(function(){p(E.answer.id),E.imageURL=E.answer.imageurl,E.imagefunctions="none"})}function R(){a.go("answerDetail",{index:E.answer.id})}function _(e){z=z.concat(e),E.numLinks=z.length,W++,(E.numLinks>10||W>4)&&(E.searchDisabled="disabled"),W>1&&(E.imageCommand="image.moreImages"),E.linkIdx=0,E.imageURL=z[E.linkIdx],E.numLinks>0&&(E.imagefunctions="inline")}function P(){console.log("query failed, dont give up")}function V(){E.linkIdx++,E.linkIdx>=E.numLinks&&(E.linkIdx=0),E.imageURL=z[E.linkIdx]}function T(){E.linkIdx--,E.linkIdx<0&&(E.linkIdx=E.numLinks-1),E.imageURL=z[E.linkIdx]}var E=this;E.title="editAnswer",E.header="table"+r.cCategory.id+".header",E.body="table"+r.cCategory.id+".body",E.answer={},E.showHowItWorksDialog=S,E.editField=f,E.editAgree=w,E.editImage=v,E.selectImage=b,E.viewPrev=T,E.viewNext=V,E.editDisagree=y,E.answerDetail=R;var U=r.A;t.index&&(E.answer=r.canswers[U.indexOf(+t.index)]),E.imageURL=E.answer.imageurl,E.publicfields=[];var q={};E.edits=[];var N=[],j=[],O=[],F=!1,B=5,M=5,z=[];E.linkIdx=0,E.numLinks=0,E.imageCommand="image.changeImage";var W=1;E.imagefunctions="none",E.emptyarray=[],r.$on("$stateChangeSuccess",function(e,t,a,n,s){r.previousState=n.name}),r.$on("$stateChangeStart",function(e,t,a,n,r){"editAnswer"==n.name&&(F||C())}),m()}angular.module("app").controller("editAnswer",e),e.$inject=["dialog","$stateParams","$state","answers","$rootScope","$http","$modal","edit","editvote","answer","image","country"]}(),function(){"use strict";function e(e,t,a,n,r,s,o,i,l,c,u){function d(){m(),b(S.answer.id),$(),v(t.index),g(t.index),console.log("Answer details loaded")}function m(){S["public"]=o.canswers["public"]}function g(e){var t=0,a=0,n="";S.relativetable=[];for(var r=o.R,s=o.GP,i=o.answersR,l=E.indexOf(+e),c=0,u=o.canswers["public"][0],d=!1,m=0;m<i.length;m++)if(E[m]!=e){switch(c=r[l][m],u){case"name":n=i[m].name;break;case"nickname":n=i[m].nickname;break;case"country":n=i[m].country,d=!0;break;case"club":n=i[m].club}s[l][m]?(t=Math.round(c/s[l][m]*100),a=100-t):(t=0,a=0),S.relativetable.push({id:i[m].id,Rank:i[m].Rank,PctF:t,vsName:n,PctC:a,GP:s[l][m],isC:d})}}function p(e){f(),q=!1,D=!1,S.answer=U[E.indexOf(+e)],b(S.answer.id),V=S.answer.upV,T=S.answer.downV,m(),v(e),g(e)}function f(){console.log("UpdateRecords @ answerDetail"),D&&I.vote!=_&&(o.cvotes[P].vote=_,i.patchRec(I.id,_)),D||0==_||i.postRec(1,R,_),(S.answer.upV!=V||S.answer.downV!=T)&&n.updateAnswer(S.answer.id,["upV","downV"],[S.answer.upV,S.answer.downV]),q=!0}function v(e){for(var t=0;t<o.cvotes.length;t++)if(o.cvotes[t].answer==e){I=o.cvotes[t],P=t,D=!0;break}D?(_=I.vote,R=I.answer):(_=0,R=e),h(_)}function b(e){S.numEdits=0;for(var t=0;t<o.cedits.length;t++)o.cedits[t].answer==e&&S.numEdits++}function h(e){1==e&&(S.answer.thumbUp="thumbs_up_blue.png",S.answer.thumbDn="thumbs_down_gray.png"),0==e&&(S.answer.thumbUp="thumbs_up_gray.png",S.answer.thumbDn="thumbs_down_gray.png"),-1==e&&(S.answer.thumbUp="thumbs_up_gray.png",S.answer.thumbDn="thumbs_down_blue.png")}function w(){if(!o.isLoggedIn)return void s.getDialog("notLoggedIn");switch(_){case-1:_=1,S.answer.upV++,S.answer.downV--;break;case 0:_=1,S.answer.upV++;break;case 1:_=0,S.answer.upV--}h(_),console.log("UpVote")}function y(){if(!o.isLoggedIn)return void s.getDialog("notLoggedIn");switch(_){case-1:_=0,S.answer.downV--;break;case 0:_=-1,S.answer.downV++;break;case 1:_=-1,S.answer.upV--,S.answer.downV++}h(_),console.log("DownVote")}function k(){console.log("goBack"),q||f(),"match"==o.previousState?a.go("match"):a.go("rankSummary",{index:o.cCategory.id})}function x(){a.go("editAnswer",{index:S.answer.id})}function C(e){n.deleteAnswer(S.answer.id),l.deleteRecordsbyAnswer(S.answer.id),i.deleteVotesbyAnswer(S.answer.id),c.deleteEditbyAnswer(S.answer.id),u.deleteEditVotesbyAnswer(S.answer.id),a.go("rankSummary",{index:o.cCategory.id})}function A(t){return o.isLoggedIn?(console.log("answer flagged!!!"),e.flagAnswer(S.answer.id,t),void s.getDialog("answerFlagged")):void s.getDialog("notLoggedIn")}function $(){o.isLoggedIn&&7==o.user.id&&(S.deleteButton="inline")}function L(){s.url(S.answer.imageurl)}var S=this;S.title="answerDetail",S.header="table"+o.cCategory.id+".header",S.body="table"+o.cCategory.id+".body";var D=!1,I={},R=0,_=0,P=0,V=0,T=0,E=o.A,U=o.canswers,q=!1;S.numEdits=0,S.relativetable=[],S.UpVote=w,S.DownVote=y,S.refresh=p,S.goBack=k,S.editAnswer=x,S.deleteAnswer=C,S.flagAnswer=A,S.deleteButton="none",S.showUrl=L,t.index&&(S.answer=U[E.indexOf(+t.index)]),V=S.answer.upV,T=S.answer.downV,o.$on("$stateChangeSuccess",function(e,t,a,n,r){o.previousState=n.name}),o.$on("$stateChangeStart",function(e,t,a,n,r){"answerDetail"==n.name&&(q||f())}),d()}angular.module("app").controller("answerDetail",e),e.$inject=["flag","$stateParams","$state","answer","user","dialog","$rootScope","votes","matchrec","edit","editvote"]}(),function(){"use strict";function e(e,t,a,n,r,s,o,i){function l(){i.loadCountries(),A.countries=n.cCountries,c(),console.log("Add Answer Activated!")}function c(){A.emptyarray=[];for(var e=0;e<n.canswers["public"].length;e++)$={},$.field=n.canswers["public"][e],$.mark=n.canswers.fieldreq[e]?"**":"",$.val="",$.opts="country"==$.field?"c for c in vm.countries":"c for c in vm.emptyarray",A.publicfields.push($),D.push(n.canswers.fieldreq[e])}function u(){T.imageurl=I[A.linkIdx],T.upV=0,T.downV=0,T.userid=n.user.id,T.category=n.cCategory.id,e.addAnswer(T,A.imageURL,y)}function d(){for(var e=0;e<A.publicfields.length;e++)switch(A.publicfields[e].field){case"name":T.name=A.publicfields[e].val;break;case"nickname":T.nickname=A.publicfields[e].val;break;case"country":T.country=A.publicfields[e].val;var t=i.validateCountry(A.publicfields[e].val);_=t[0],P=t[1],V=e,T.cnum=P;break;case"club":T.club=A.publicfields[e].val}}function m(){L=!0;for(var e=0;e<D.length;e++)if(D[e]&&A.publicfields[e].val.length<3){L=!1;break}L=L&&_,S=L&&A.numLinks>0}function g(){t.go("rankSummary",{index:n.cCategory.id})}function p(){var t=[];if(d(),m(),!L)return void e.getDialog("missingDataImage");t=JSON.parse(JSON.stringify(A.publicfields)),t[V].val=n.countries_en[P];var a=o.getImageLinks(t,R,"add");a.then(b,f)}function f(){console.log("query failed, dont give up")}function v(){return d(),m(),S?void u():void e.getDialog("missingDataAnswer")}function b(e){for(var t,a=!1,n=0;n<e.length;n++){for(var r=0;r<I.length;r++)if(t=e[n].localeCompare(I[r]),0==t){a=!0;break}a||I.push(e[n])}A.numLinks=I.length,R++,(A.numLinks>10||R>=4)&&(A.searchDisabled="disabled"),R>1&&(A.imageCommand="image.moreImages"),A.linkIdx=0,A.imageURL=I[A.linkIdx],x(I[A.linkIdx],C),A.numLinks>0&&(A.imagefunctions="inline"),console.log("attNum  ",R)}function h(){A.linkIdx++,A.linkIdx>=A.numLinks&&(A.linkIdx=0),A.imageURL=I[A.linkIdx],x(I[A.linkIdx],C)}function w(){A.linkIdx--,A.linkIdx<0&&(A.linkIdx=A.numLinks-1),A.imageURL=I[A.linkIdx],x(I[A.linkIdx],C)}function y(e){a.addAnswer(e).then(g)}function k(){e.howItWorks("addAnswer")}function x(e,t,a){a=a||5e3;var n,r=!1,s=new Image;s.onerror=s.onabort=function(){r||(clearTimeout(n),t(e,"error"))},s.onload=function(){r||(clearTimeout(n),t(e,"success"))},s.src=e,n=setTimeout(function(){r=!0,t(e,"timeout")},a)}function C(e,t){("error"==t||"timeout"==t)&&(A.imageURL="../../../assets/images/noimage.jpg")}var A=this;A.title="addAnswer",A.header="table"+n.cCategory.id+".header",A.body="table"+n.cCategory.id+".body",A.searchDisabled="disabled",A.modalEnable=!0,A.publicfields=[];var $={},L=!1,S=!1,D=[],I=[];A.linkIdx=0,A.numLinks=0,A.imageCommand="image.loadImages",A.searchDisabled="";var R=1;A.imagefunctions="none";var _=!1,P=-1,V=-1,T={};A.callAddAnswer=v,A.rankSummary=g,A.callSearchImage=p,A.viewNext=h,A.viewPrev=w,A.showHowItWorksDialog=k,A.imageURL="../../../assets/images/noimage.jpg",l()}angular.module("app").controller("addAnswer",e),e.$inject=["dialog","$state","answer","$rootScope","$http","$modal","image","country"]}(),function(){"use strict";function e(e,t){var a=[{name:"login",url:"/login",templateUrl:"app/login/partials/login.html",controller:"login as vm"},{name:"register",url:"/register",templateUrl:"app/login/partials/register.html",controller:"register as  vm"}];$(a).each(function(){e.state(this)})}var t=angular.module("login");t.config(["$stateProvider","$urlRouterProvider",e])}(),angular.module("app").service("LocaleService",["$translate","LOCALES","$rootScope","tmhDynamicLocale",function(e,t,a,n){"use strict";var r=t.locales,s=Object.keys(r);s&&0!==s.length||console.error("There are no _LOCALES provided");var o=[];s.forEach(function(e){o.push(r[e])});var i=e.proposedLanguage(),l=function(e){return-1!==s.indexOf(e)},c=function(t){return l(t)?(i=t,void e.use(t)):void console.error('Locale name "'+t+'" is invalid')};return a.$on("$translateChangeSuccess",function(e,t){document.documentElement.setAttribute("lang",t.language),n.set(t.language.toLowerCase().replace(/_/g,"-"))}),{getLocaleDisplayName:function(){return r[i]},setLocaleByDisplayName:function(e){c(s[o.indexOf(e)])},getLocalesDisplayNames:function(){return o},getDisplayNamebyLocale:function(e){return o[s.indexOf(e)]}}}]),angular.module("app").directive("ngTranslateLanguageSelect",["LocaleService",function(e){"use strict";return{restrict:"A",replace:!0,template:'<div class="language-select"><label ><font color="white">{{"directives.language-select.Language" | translate}}: </font><select ng-model="currentLocaleDisplayName"ng-options="localesDisplayName for localesDisplayName in localesDisplayNames"ng-change="changeLanguage(currentLocaleDisplayName)"></select></label></div>',controller:["$scope",function(t){t.currentLocaleDisplayName=e.getLocaleDisplayName(),t.localesDisplayNames=e.getLocalesDisplayNames(),t.visible=t.localesDisplayNames&&t.localesDisplayNames.length>1,t.changeLanguage=function(t){e.setLocaleByDisplayName(t)}}]}}]),function(){"user strict";angular.module("app").constant("INSTANCE_URL","http://bitnami-dreamfactory-995d.cloudapp.net").constant("APP_API_KEY","5adacd5318b08acc7841011a5cef426f75d46011cd64d662cc11ff1aa24de013").constant("DEBUG_MODE",!0)}(),function(){"use strict";function e(e,t){t.otherwise("/rankSummary/1");var a=[{name:"layout","abstract":!0,url:"",views:{"@":{templateUrl:"app/layout/Partials/layout.html",controller:"layout as vm"},"navbar@layout":{templateUrl:"app/layout/Partials/navbar.html",controller:"navbar as vm"},"dropmenu@layout":{templateUrl:"app/layout/Partials/dropmenu.html",controller:"dropmenu as vm"}}},{name:"rankSummary",parent:"layout",url:"/rankSummary/:index",templateUrl:"app/rank/Partials/RankSummary.html",controller:"rankSummary as vm",resolve:{answers:["answer",function(e){return e.getAnswers().then(function(e){return e})}],categories:["table",function(e){return e.getTables().then(function(e){return e})}],mrecs:["matchrec",function(e){return e.GetMatchTable().then(function(e){return e})}],tablefields:["tablefield",function(e){return e.getAllTableFields().then(function(e){return e})}],edits:["edit",function(e){return e.getEdits().then(function(e){return e})}],useractivities:["useractivity",function(e){return e.getAllUserActivity().then(function(e){return e})}],countries:["country",function(e){return e.getCountries().then(function(e){return e})}]}},{name:"addAnswer",parent:"layout",url:"/addAnswer",templateUrl:"app/answer/Partials/addAnswer.html",controller:"addAnswer as vm"},{name:"editAnswer",parent:"layout",url:"/editAnswer/:index",templateUrl:"app/answer/Partials/editAnswer.html",controller:"editAnswer as vm",resolve:{answers:["answer",function(e){return e.getAnswers().then(function(e){return e})}],edits:["edit",function(e){return e.getEdits().then(function(e){return e})}]}},{name:"answerDetail",parent:"layout",url:"/answerDetail/:index",templateUrl:"app/answer/Partials/answerDetail.html",controller:"answerDetail as vm",resolve:{answers:["answer",function(e){return e.getAnswers().then(function(e){return e})}]}},{name:"match",parent:"layout",url:"/match",templateUrl:"app/rank/Partials/match.html",controller:"match as vm",resolve:{answers:["answer",function(e){return e.getAnswers().then(function(e){return e})}]}}];$(a).each(function(){e.state(this)})}var t=angular.module("app");t.config(["$stateProvider","$urlRouterProvider",e])}(),function(){"use strict";var e=angular.module("app");e.constant("DEBUG_MODE",!0),e.constant("VERSION_TAG",(new Date).getTime()),e.constant("LOCALES",{locales:{es_SP:"Español",en_US:"English",po_BR:"Português"},preferredLocale:"en_US"}),e.config(["$translateProvider","DEBUG_MODE","LOCALES",function(e,t,a){t&&e.useMissingTranslationHandlerLog(),e.useStaticFilesLoader({prefix:"assets/locale-",suffix:".json"}),e.preferredLanguage(a.preferredLocale),e.useLocalStorage(),e.useSanitizeValueStrategy("escape")}]),e.config(["tmhDynamicLocaleProvider",function(e){e.localeLocationPattern("bower_components/angular-i18n/angular-locale_{{locale}}.js")}])}(),function(){"use strict";function e(e){e.interceptors.push("httpInterceptor")}var t=angular.module("app");t.config(e),e.$inject=["$httpProvider"]}(),function(){"use strict";function e(e,t,a,n){t.defaults.headers.common["X-Dreamfactory-API-Key"]=n,t.defaults.headers.common["X-DreamFactory-Session-Token"]=e.session_token}angular.module("app").run(e),e.$inject=["$cookies","$http","$rootScope","APP_API_KEY"]}(),angular.module("app").run(["$templateCache",function(e){e.put("app/answer/Partials/addAnswer.html",'<div class="well-sm"><h2 class="sub-header">{{vm.header | translate}}</h2><p>{{vm.body | translate}}</p></div><div class="row"><h4>{{"addAnswer.EnterNewAnswer" | translate}} {{vm.header | translate}}</h4></div><div class="text-right"><p class="hiw" ng-click="vm.showHowItWorksDialog()"><u>{{"howItWorks" | translate}}</u></p></div><br><div class="row"><div class="col-sm-12 col-md-5"><div class=""><a href="{{vm.imageURL}}" class="thumbnail"><img src="{{vm.imageURL}}" alt="{{image.errorLoading}}" style="width:100%; max-height:300px"></a></div><div class="form-group text-right"><button type="submit" class="btn btn-primary {{vm.searchDisabled}}" ng-click="vm.callSearchImage()">{{vm.imageCommand | translate}}</button> <button type="submit" class="btn btn-primary" ng-click="vm.viewPrev()" ng-disabled="vm.numLinks === 0" style="display:{{vm.imagefunctions}}">&laquo</button> <button type="submit" class="btn btn-primary" ng-click="vm.viewNext()" ng-disabled="vm.numLinks === 0" style="display:{{vm.imagefunctions}}">&raquo</button> <a style="display:{{vm.imagefunctions}}">{{vm.linkIdx+1}} of {{vm.numLinks}}</a></div></div><form class="form-horizontal col-sm-10 col-md-6" role="form" name="answerForm"><div class="form-group" ng-repeat="x in vm.publicfields"><label class="col-sm-2 control-label capitalize">{{x.mark}}{{x.field | translate}}:</label><div class="col-sm-10 col-md-10"><input class="form-control" ng-model="x.val" bs-options="{{x.opts}}" bs-typeahead="" type="text" placeholder="{{ x.field | translate}}"></div></div><div class="row form-group"><div class="text-right"><button ng-click="vm.rankSummary()" class="btn btn-danger">{{"addAnswer.Cancel" | translate}}</button><button type="submit" class="btn btn-success" ng-click="vm.callAddAnswer()">{{"addAnswer.Add" | translate}}</button></div></div></form></div>'),e.put("app/answer/Partials/answerDetail.html",'<div class="well-sm"><h2 class="sub-header">{{vm.header | translate}}</h2><p>{{vm.body | translate}}</p></div><div><h3><span ng-repeat="f in vm.public">{{(f == "name" && vm.answer.name) ? vm.answer.name : ""}} {{(f == "country" && vm.answer.country) ? " - "+(vm.answer.country | translate) : ""}} {{(f == "nickname" && vm.answer.nickname) ? " - "+(vm.answer.nickname) : ""}} {{(f == "club" && vm.answer.club) ? " - "+(vm.answer.club) : ""}}</span></h3></div><div class="row"><div class="col-md-6 col-lg-6"><p>{{vm.answer.description}}</p><br><img class="displayed" src="{{vm.answer.imageurl}}" alt="Moustiers Sainte Marie" style="width:100%;height:300px" ng-click="vm.showUrl()"><br><br><p>{{"answerDetail.VoteInstruction" | translate}}</p><div class="row" id="likerow"><label style="width:10%" class="col-md-1 col-lg-1"><font size=""></font></label> <img style="width:20%" class="img-circle col-md-1 col-lg-1 cursor" src="../../../assets/images/{{vm.answer.thumbUp}}" ng-click="vm.UpVote()"> <label style="width:20%" class="col-md-1 col-lg-1"><font size="5">{{vm.answer.upV}}</font></label> <img style="width:20%" class="img-circle col-md-1 col-lg-1 cursor" src="../../../assets/images/{{vm.answer.thumbDn}}" ng-click="vm.DownVote()"> <label style="width:20%" class="col-md-1 col-lg-1"><font size="5">{{vm.answer.downV}}</font></label> <label style="width:10%" class="col-md-1 col-lg-1"><font size=""></font></label></div><br><button type="button" class="btn btn-primary btn-block" ng-click="vm.editAnswer()">{{"Edit" | translate}} {{vm.numEdits > 0? "("+vm.numEdits+")" : ""}}</button><br><a ng-click="vm.goBack()" class="btn btn-success">{{"answerDetail.Back" | translate}}</a><div class="btn-group"><button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown">{{"answerDetail.FlagAnswer" | translate}}<span class="caret"></span></button><ul class="dropdown-menu" role="menu"><li><a id="action-x" ng-click="vm.flagAnswer(1)">{{"answerDetail.FlagOffensive" | translate}}</a></li><li><a id="action-y" ng-click="vm.flagAnswer(2)">{{"answerDetail.FlagDuplicated" | translate}}</a></li></ul></div><a ng-click="vm.deleteAnswer()" class="btn btn-danger" style="display:{{vm.deleteButton}}">Delete</a><br><br></div><div class="col-md-6 col-lg-6"><table class="table table-hover cursor" id="mytable"><tbody><thead><tr><th>Pct (%)</th><th>vs. Opponent</th><th>Pct (%)</th><th>GP</th></tr></thead><tbody><tr ng-repeat="x in vm.relativetable | orderBy:\'-Rank\'" ng-click="vm.refresh(x.id)"><td align="middle">{{x.PctF}}</td><td align="middle">{{x.isC ? (x.vsName | translate) : x.vsName}}</td><td align="middle">{{x.PctC}}</td><td align="middle">{{x.GP}}</td></tr></tbody></tbody></table></div></div>'),e.put("app/answer/Partials/editAnswer.html",'<div class="well-sm"><h2 class="sub-header">{{vm.header | translate}}</h2><p>{{vm.body | translate}}</p></div><div class="row"><div class="col-sm-6"><h3>{{"editAnswer.editAnswer" | translate}}</h3></div><div class="col-sm-6 text-right"><p class="hiw" ng-click="vm.showHowItWorksDialog()"><u>{{"howItWorks" | translate}}</u></p></div></div><br><div class="row"><div class="col-sm-12 col-md-6"><div class=""><img class="displayed-uc" src="{{vm.imageURL}}" alt="{{image.errorLoading}}" style="width:100%; max-height:300px"></div><br><button type="submit" class="btn btn-primary" ng-click="vm.editImage()">{{vm.imageCommand | translate}}</button> <button type="submit" class="btn btn-primary" ng-click="vm.viewPrev()" style="display:{{vm.imagefunctions}}">&laquo</button> <button type="submit" class="btn btn-primary" ng-click="vm.viewNext()" style="display:{{vm.imagefunctions}}">&raquo</button> <a style="display:{{vm.imagefunctions}}">{{vm.linkIdx+1}} of {{vm.numLinks}}</a> <button type="submit" class="btn btn-success" ng-click="vm.selectImage()" style="display:{{vm.imagefunctions}}">Select</button></div><form class="form-horizontal col-sm-12 col-md-6" role="form" name="answerForm"><br><div class="form-group" ng-repeat="x in vm.publicfields"><label class="col-sm-2 control-label capitalize">{{x.field | translate}}:</label><div class="col-sm-10"><div class="input-group"><input class="form-control" ng-model="x.val" bs-options="{{x.opts}}" bs-typeahead="" type="text" placeholder="{{x.cval}}"> <span class="input-group-btn"><button class="btn btn-primary" type="button" ng-click="vm.editField(x)">{{"Edit" | translate}}</button></span></div></div></div></form></div><br><div class="well well-light-edit" ng-repeat="x in vm.edits"><p><strong>{{x.username}}</strong> {{"editAnswer.hasEdited" | translate}} <strong class="capitalize"><em>{{x.field | translate}}</em></strong> {{"editAnswer.of" | translate}} <strong><em>{{x.name}}</em></strong> {{"editAnswer.to" | translate}} <strong><em>{{x.field == "country"? (x.nval | translate):x.nval}}</em></strong>.</p><img src="{{x.imageURL}}" "="" class="displayed" style="height:150px;display:{{x.display}}"><div class="row form-group"><div class="text-center"><label>{{x.upV}}</label> <label></label> <button class="btn btn-primary {{x.agree}}" ng-click="vm.editAgree(x, $index)">{{"Agree" | translate}}</button> <button type="submit" class="btn btn-primary {{x.disagree}}" ng-click="vm.editDisagree(x, $index)">{{"Disagree" | translate}}</button> <label></label> <label>{{x.downV}}</label></div></div></div><div class="text-right"><a ng-click="vm.answerDetail()" class="btn btn-success">{{"answerDetail.Back" | translate}}</a></div>'),e.put("app/layout/Partials/about.html",'<div ui-view="navbar"></div><div class="container"><div class="jumbotron"><h1>Rank Futbol</h1><img src="../../../assets/images/soccer_rank_logo2.jpg" alt="Cinque Terre" style="width:100%"><p>Rank-Futbol is the most popular HTML, CSS, and JS framework for developing responsive, mobile-first projects on the web.</p></div><p>This is some text.</p><p>This is another text.</p><button type="button" class="btn btn-primary" ui-sref="layout">Back</button></div>'),e.put("app/layout/Partials/dropmenu.html",'<div class="row"><div class="col-xs-4 col-md-2 col-lg-2 btn-group"><button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">{{"layout.ChooseCategory" | translate}} <span class="caret"></span></button><ul class="dropdown-menu" role="menu"><li><a href="#/rankSummary/1">{{"layout.Goalies" | translate}}</a></li><li><a href="#/rankSummary/2">{{"layout.Defenders" | translate}}</a></li><li><a href="#/rankSummary/3">{{"layout.Midfielders" | translate}}</a></li><li><a href="#/rankSummary/4">{{"layout.Forwards" | translate}}</a></li><li><a href="#/rankSummary/5">{{"layout.Clubs" | translate}}</a></li><li><a href="#/rankSummary/6">{{"layout.National Teams" | translate}}</a></li><li><a href="#/rankSummary/7">{{"layout.Drama Queens" | translate}}</a></li><li><a href="#/rankSummary/8">{{"layout.All-time Goalies" | translate}}</a></li><li><a href="#/rankSummary/9">{{"layout.All-time Defenders" | translate}}</a></li><li><a href="#/rankSummary/10">{{"layout.All-time Midfielders" | translate}}</a></li><li><a href="#/rankSummary/11">{{"layout.All-time Forwards" | translate}}</a></li><li><a href="#/rankSummary/12">{{"layout.Women Goalies" | translate}}</a></li><li><a href="#/rankSummary/13">{{"layout.Women Defenders" | translate}}</a></li><li><a href="#/rankSummary/14">{{"layout.Women Midfielders" | translate}}</a></li><li><a href="#/rankSummary/15">{{"layout.Women Forwards" | translate}}</a></li><li><a href="#/rankSummary/16">{{"layout.Women National Teams" | translate}}</a></li></ul></div><div class="col-xs-2 col-md-7 col-lg-7"></div><div class="col-xs-6 col-md-3 col-lg-3"><img src="../../../assets/images/soccer_rank_logo2.jpg" alt="Cinque Terre" style="width:100%"></div></div>'),e.put("app/layout/Partials/layout.html",'<div ui-view="navbar"></div><div class="container"><div class="row"><div class="col-sm-9 col-md-12"><div ui-view=""></div></div></div></div>'),e.put("app/layout/Partials/navbar.html",'<nav class="navbar navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="#">RANK SOCCER 2016</a></div><div id="navbar" class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><div ng-translate-language-select=""></div></li></ul><ul class="nav navbar-nav navbar-right" ng-show="vm.user"><li><a href=""><i class="fa fa-user"></i> Welcome {{vm.user.first_name}}</a></li></ul><ul class="nav navbar-nav navbar-right"><li ng-show="!vm.isLoggedIn"><a href="#/login">Login</a></li><li ng-show="vm.isLoggedIn"><a href="" ng-click="vm.logout()">Logout</a></li></ul><ul class="nav navbar-nav navbar-right"><li><a ui-sref="#about">About</a></li></ul></div></div></nav>'),
e.put("app/login/partials/login.html",'<div class="panel panel-primary signin-card"><div class="panel-heading"><h1 class="text-center">Rank - Futbol</h1></div><div class="panel-body"><form ng-submit="vm.submit()"><div class="form-group text-center"><button type="button" class="btn btn-primary form-control" ng-click="vm.redirectForFacebook()"><i class="fa fa-facebook"></i> Login</button></div><br><p class="hiw" ng-click="vm.whyFacebookDialog()"><u>{{"whyFacebook" | translate}}</u></p></form></div></div>'),e.put("app/login/partials/register.html",'<div class="panel panel-primary signin-card"><div class="panel-heading"><h1 class="text-center">Register</h1></div><div class="panel-body"><form name="registerForm"><div class="form-group"><label>First Name</label> <input type="text" name="firstName" class="form-control" ng-model="vm.firstName"></div><div class="form-group"><label>Last Name</label> <input type="text" name="lastName" class="form-control" ng-model="vm.lastName"></div><div class="form-group"><label>Email</label> <input type="email" class="form-control" ng-model="vm.username"></div><div class="form-group"><label>Password</label> <input type="password" name="password" class="form-control" ng-model="vm.password"></div><div class="form-group"><label>Confirm Password</label> <input type="password" name="confirm" class="form-control" ng-model="vm.confirm"></div><div class="form-group text-right"><button type="submit" class="btn btn-primary" ng-click="vm.signIn()">Sign In</button> <button type="button" class="btn btn-primary" ng-click="vm.register()">Register</button></div></form></div></div>'),e.put("app/rank/Partials/RankChat.html",'<div class="container"><div class="row"><div class="col-md-6"><h1 class="page-heading">This is a test</h1></div></div></div>'),e.put("app/rank/Partials/RankSummary.html",'<div ui-view="dropmenu"></div><div class="well-sm"><h2 class="sub-header">{{vm.header | translate}}</h2><p>{{vm.body | translate}}</p></div><div class="row"><br id="space1"><img src="../../../assets/images/{{vm.tableimage}}" class="img-rounded" style="width:100%;max-height:200px"><br id="space2"></div><div class="row"><h3 class="sub-header col-sm-6 col-md-6">Ranking</h3><div class="text-right col-sm-6 col-md-6" "=""><h4>{{"rankSummary.Contributors " | translate}}: <b style="color:blue;"><i>{{vm.numContributors}}</i></b></h4></div></div><div class="row"><div class="btn-group col-sm-6 col-md-6"><button class="btn btn-primary {{vm.selOverall}}" ng-click="vm.rankOverall()">{{"rankSummary.Overall " | translate}}</button> <button class="btn btn-primary {{vm.selPersonal}}" ng-click="vm.rankPersonal()">{{"rankSummary.Personal " | translate}}</button></div><div class="text-right col-sm-6 col-md-6"><a href="http://twitter.com/home?status=" title="{{&quot;rankSummary.ShareTweeter&quot; | translate}}" target="_blank" class="btn btn-twitter"><i class="fa fa-twitter"></i> Twitter</a><a href="https://www.facebook.com/sharer/sharer.php" title="{{&quot;rankSummary.ShareFacebook&quot; | translate}}" target="_blank" class="btn btn-facebook"><i class="fa fa-facebook"></i> Facebook</a><a href="https://plus.google.com/share?url=" title="{{&quot;rankSummary.ShareGoogle&quot; | translate}}" target="_blank" class="btn btn-googleplus"><i class="fa fa-google-plus"></i> Google+</a></div></div><br><table class="table table-hover cursor"><tbody><thead><tr><th>Rank</th><th class="capitalize" ng-repeat="h in vm.answers.public">{{h | translate}}</th></tr></thead><tbody><tr ng-repeat="x in vm.answers | orderBy: \'-Rank\'" ng-click="vm.answerDetail(x.id)"><td>{{$index+1}}</td><td ng-repeat="h in vm.answers.public">{{ h =="country" ? (x[h] | translate):x[h] }}</td></tr></tbody></tbody></table><br><button ng-click="vm.addAnswer()" class="btn btn-primary">{{"rankSummary.CreateNewAnswer " | translate}}</button><button ng-click="vm.goRank()" class="btn btn-success">{{"rankSummary.GoRank " | translate}}</button><br><br>'),e.put("app/rank/Partials/match.html",'<div class="well-sm"><h2 class="sub-header">{{vm.header | translate}}</h2><p>{{vm.body | translate}}</p></div><h3>{{"match.WhoRanks" | translate}}</h3><div class="form-group text-center"><div class="well well-dark">{{"match.MATCH" | translate}} <strong>{{vm.GP + 1}}</strong> {{"match.of" | translate}} <strong>{{vm.Tot}}</strong></div></div><div class="row"><div class="col-xs-6 col-md-6 col-lg-6"><div class="well well-light" ng-click="vm.selectAnswer(1)"><span ng-repeat="f in vm.public">{{(f == "name" && vm.answer1.name) ? vm.answer1.name : ""}} {{(f == "country" && vm.answer1.country) ? " - "+(vm.answer1.country | translate) : ""}} {{(f == "nickname" && vm.answer1.nickname) ? " - "+(vm.answer1.nickname) : ""}} {{(f == "club" && vm.answer1.club) ? " - "+(vm.answer1.club) : ""}}</span></div><img class="displayed" src="{{vm.answer1.imageurl}}" ng-click="vm.selectAnswer(1)" style="width:100%;max-height:300px"></div><div class="col-xs-6 col-md-6 col-lg-6"><div class="well well-light" ng-click="vm.selectAnswer(2)"><span ng-repeat="f in vm.public">{{(f == "name" && vm.answer2.name) ? vm.answer2.name : ""}} {{(f == "country" && vm.answer2.country) ? " - "+(vm.answer2.country | translate) : ""}} {{(f == "nickname" && vm.answer2.nickname) ? " - "+(vm.answer2.nickname) : ""}} {{(f == "club" && vm.answer2.club) ? " - "+(vm.answer2.club) : ""}}</span></div><img class="displayed" src="{{vm.answer2.imageurl}}" ng-click="vm.selectAnswer(2)" style="width:100%;max-height:300px"></div></div><br><div class="row"><div class="form-group text-left col-xs-6 col-md-6 col-lg-6"><button ng-click="vm.answerDetail(1)" type="button" class="btn btn-success">{{"match.Details" | translate}}</button></div><div class="form-group text-right col-xs-6 col-md-6 col-lg-6"><button ng-click="vm.answerDetail(2)" type="button" class="btn btn-success">{{"match.Details" | translate}}</button></div></div><div class="form-group text-center"><button ng-click="vm.skipMatch()" type="button" class="btn btn-default">{{"match.Skip" | translate}}</button> <button ng-click="vm.rankSummary()" type="button" class="btn btn-danger">{{"match.Stop" | translate}}</button></div>')}]);